(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{367:function(t,e,a){"use strict";a.r(e);var l=a(18),v=Object(l.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"linux服务器管理建议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux服务器管理建议"}},[t._v("#")]),t._v(" Linux服务器管理建议")]),t._v(" "),a("h2",{attrs:{id:"学习linux的注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习linux的注意事项"}},[t._v("#")]),t._v(" 学习Linux的注意事项")]),t._v(" "),a("h3",{attrs:{id:"inux严格区分大小写"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inux严格区分大小写"}},[t._v("#")]),t._v(" inux严格区分大小写")]),t._v(" "),a("p",[t._v("Linux是严格区分大小写的，包括"),a("code",[t._v("文件名")]),t._v("和"),a("code",[t._v("目录名")]),t._v("、"),a("code",[t._v("命令")]),t._v("、"),a("code",[t._v("命令选项")]),t._v("、"),a("code",[t._v("配置文件")]),t._v("、"),a("code",[t._v("设置选项")]),t._v("等")]),t._v(" "),a("h3",{attrs:{id:"linux一切皆文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux一切皆文件"}},[t._v("#")]),t._v(" Linux一切皆文件")]),t._v(" "),a("p",[t._v("Linux中所有内容都是以文件的形式保存和管理的，硬件设备也是文件，\nWindows完全不同，Windows是通过设备管理器来管理硬件的。\nLinux的设备文件保存在/dev/目录中，硬盘文件是/dev/sd[a-p]，光盘文件是/dev/hdc等")]),t._v(" "),a("h3",{attrs:{id:"linux不靠扩展名区分文件类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux不靠扩展名区分文件类型"}},[t._v("#")]),t._v(" Linux不靠扩展名区分文件类型")]),t._v(" "),a("p",[t._v("Linux不是靠扩展名区分文件类型的，而是靠权限位标识来确定文件类型的而且文件类型的种类也不像Windows下那么多，常见的文件类型只有普通文件、目录、链接文件、块设备文件、字符设备文件等几种。")]),t._v(" "),a("p",[t._v("Linux的可执行文件不过就是普通文件被赋予了可执行权限而已")]),t._v(" "),a("p",[t._v("Linux中的一些特殊文件还是要求写“扩展名”的，写这些扩展名是为了帮助管理员来区分不同的文件类型。这样的文件扩展名主要有以下几种")]),t._v(" "),a("ul",[a("li",[t._v("压缩包")]),t._v(" "),a("li",[t._v("二进制软件包(如“.rpm”扩展名结尾，让管理员一目了然。)")]),t._v(" "),a("li",[t._v("程序文件")]),t._v(" "),a("li",[t._v("网页文件")])]),t._v(" "),a("h3",{attrs:{id:"linux中所有的存储设备都必须在挂载之后才能使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux中所有的存储设备都必须在挂载之后才能使用"}},[t._v("#")]),t._v(" Linux中所有的存储设备都必须在挂载之后才能使用")]),t._v(" "),a("p",[t._v("Linux中所有的存储设备都有自己的设备文件名，这些设备文件必须在挂载之后才能使用，包括硬盘、U盘和光盘。")]),t._v(" "),a("p",[t._v("挂载其实就是给这些存储设备分配盘符，只不过Windows中的盘符用英文字母表示 ，而"),a("code",[t._v("Linux中的盘符则是一个已经建立的空目录")]),t._v("。")]),t._v(" "),a("p",[t._v("我们把这些空目录叫作挂载点（可以理解为Windows的盘符），把设备文件（如/dev/sdb）和挂载点（已经建立的空目录）连接的过程叫作挂载")]),t._v(" "),a("h3",{attrs:{id:"windows下的程序不能直接在linux中使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows下的程序不能直接在linux中使用"}},[t._v("#")]),t._v(" Windows下的程序不能直接在Linux中使用")]),t._v(" "),a("p",[t._v("Linux和Windows是不同的操作系统，可以安装和使用的软件也是不同的，所以能够在Windows中安装的软件是不能在Linux中安装的。")]),t._v(" "),a("h2",{attrs:{id:"服务器管理建议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务器管理建议"}},[t._v("#")]),t._v(" 服务器管理建议")]),t._v(" "),a("h3",{attrs:{id:"了解linux目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#了解linux目录结构"}},[t._v("#")]),t._v(" 了解Linux目录结构")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("目录名")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("目录的作用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/bin/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("存放系统命令的目录，普通用户和超级用户都可以执行。是/usr/bin/目录的软链接")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/sbin/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("存放系统命令的目录，只有超级用户才可以执行。是/usr/sbin/目录的软链接")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/usr/bin/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("存放系统命令的目录，普通用户和超级用户都可以执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/usr/sbin/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("存放系统  命令的目录，只有超级用户才可以执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/boot/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("系统启动目录，保存与系统启动相关的文件，如内核文件和启动引导程序（grub）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/dev/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("设备文件保存位置")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/etc/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("配置文件保存位置。系统内所有采用默认安装方式（rpm安装）的服务配置文件全部保存在此目录中，如用户信息、服务的启动脚本、常用服务的配置文件等")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/home/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("普通用户的家目录。在创建用户时，每个用户要有一个默认登录和保存自己数据的位置，就是用户的家目录，所有普通用户的宿主目录是在/home/下建立一个和用户名相同的目录。如用户user1的家目录就是/home/user1/")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/lib/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("系统调用的函数库保存位置。是/usr/lib/的软链接")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/lib64/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("64位函数库保存位置。是/usr/lib64/的软链接")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/lost+found/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("当系统意外崩溃或机器意外关机，而产生一些文件碎片放在这里。当系统启动的过程中fsck工具会检查这里，并修复已经损坏的文件系统。这个目录只在每个分区中出现，例如/lost+found就是根分区的备份恢复目录，/boot/lost+found就是/boot分区的备份恢复目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/media/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("挂载目录。系统建议是用来挂载媒体设备的，如软盘和光盘")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/misc/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("挂载目录。系统建议用来挂载NFS服务的共享目录。我们在刚刚已经解释了挂载，只要是一个已经建立的空目录就可以作为挂载点。那么系统虽然准备了三个默认挂载目录/media、/mnt、/misc，但是到底在哪个目录中挂载什么设备都可以由管理员自己决定。旧Linux中，默认挂载目录只有/mnt一个，所以养成了在/mnt下建立不同目录挂载不同设备的习惯。如/mnt/cdrom挂载光盘，/mnt/usb挂载U盘")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/mnt/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("挂载目录。早期Linux中只有这一个挂载目录，并没有细分。现在系统建议这个目录用来挂载额外的设备，如U盘、移动硬盘和其他操作系统的分区")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/opt/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("第三方安装的软件保存位置。这个目录是放置和安装其他软件的位置，手工安装的源码包软件都可以安装到这个目录中。也可以将软件放到/usr/local/目录中")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/proc/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("虚拟文件系统。该目录中的数据并不保存在硬盘上，而是保存到内存中。主要保存系统的内核、进程、外部设备状态和网络状态等。如/proc/cpuinfo是保存CPU信息的，/proc/devices是保存设备驱动的列表的，/proc/filesystems是保存文件系统列表的，/proc/net是保存网络协议信息的......")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/sys/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("虚拟文件系统。和/proc/目录相似，该目录中的数据都保存在内存中，主要保存与内核相关的信息")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/selinux/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("用来限制root 用户的，安全目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/root/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("root的宿主目录。普通用户宿主目录在/home/下，root宿主目录直接在“/”下")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/run/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("系统运行时产生的数据，如ssid，pid等相关数据。/var/run/是此目录的软链接")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/srv/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("服务数据目录。一些系统服务启动之后，可以在这个目录中保存所需要的数据")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/tmp/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("临时目录。系统存放临时文件的目录，在该目录下，所有用户都可以访问和写入。我们建议此目录中不能保存重要数据，最好每次开机都把该目录清空")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/usr/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("系统软件资源目录。注意usr不是user的缩写，而是“UNIX Software Resource”的缩写，所以不是存放用户数据的目录，而是存放系统软件资源的目录。系统中安装的软件大多数保存在这里")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/usr/lib/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("应用程序调用的函数库保存位置")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/usr/local/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("手工安装的软件保存位置。我们一般建议源码包软件安装在这个位置")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/usr/share/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("应用程序的资源文件保存位置，如帮助文档、说明文档和字体目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/usr/src/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("源码包保存位置。我们手工下载的源码包和内核源码包都可以保存到这里。不过超哥更习惯把手工下载的源码包保存到/usr/local/src/目录中，把内核源码保存到")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/usr/src/kernels/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("目录中/usr/src/kernels/内核源码保存位置")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/var/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("动态数据保存位置。主要保存缓存、日志以及软件运行所产生的文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/var/www/html/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("RPM包安装的Apache的网页主目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/var/lib/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("程序运行中需要调用或改变的数据保存位置。如PRM安装的MySQL的数据库保存在/var/lib/mysql/目录中")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/var/log/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("系统日志保存位置")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/var/run/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("一些服务和程序运行后，它们的PID（进程ID）保存位置。是/run/目录的软链接")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/var/spool/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("放置队列数据的目录。就是排队等待其他程序使用的数据，比如邮件队列和打印队列")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/var/spool/mail/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("新收到的邮件队列保存位置。系统新收到的邮件会保存在此目录中")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("/var/spool/cron/")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("系统的定时任务队列保存位置。系统的计划任务会保存在这里")])])])]),t._v(" "),a("h3",{attrs:{id:"远程服务器关机及重启时的注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#远程服务器关机及重启时的注意事项"}},[t._v("#")]),t._v(" 远程服务器关机及重启时的注意事项")]),t._v(" "),a("p",[t._v("为什么远程服务器不能关机呢？很简单，远程服务器没有放置在本地，关机后，谁可以帮你按开机电源键启动服务器？虽然计算机技术日新月异，但是像插入电源和开机这样的工作还是需要手工进行的。如果服务器在远程，一旦关机，就只能求助托管机房的管理人员帮你开机了。远程服务器重启时需要注意两点。")]),t._v(" "),a("h4",{attrs:{id:"远程服务器在重启前，要中止正在执行的服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#远程服务器在重启前，要中止正在执行的服务"}},[t._v("#")]),t._v(" 远程服务器在重启前，要中止正在执行的服务")]),t._v(" "),a("p",[t._v("计算机的硬盘最怕在高速存储时断电或重启，非常容易造成硬盘损坏。\n所以，在重启前先中止你的服务，甚至可以考虑暂时断开对外提供服务的网络。可能你会觉得服务器有这么娇贵吗？我的笔记本电脑经常强行关机，也没有发现硬盘损坏啊？\n这是因为你的个人计算机没有很多人访问，强制断电时硬盘并没有进行数据交换。小心驶得万年船！")]),t._v(" "),a("h4",{attrs:{id:"重启命令的选用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重启命令的选用"}},[t._v("#")]),t._v(" 重启命令的选用")]),t._v(" "),a("p",[t._v("Linux可以识别的重启命令有很多条，但是建议大家使用"),a("code",[t._v("shutdown -r now")]),t._v("命令重启。\n这条命令在重启时会正常保存和中止服务器中正在运行的程序，是安全重启命令。\n而且最好在重启前执行几次"),a("code",[t._v("sync")]),t._v("命令，这条命令是数据同步命令，可以让暂时保存在内存中的数据同步到硬盘上。")]),t._v(" "),a("h4",{attrs:{id:"不要在服务器访问高峰运行高负载命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不要在服务器访问高峰运行高负载命令"}},[t._v("#")]),t._v(" 不要在服务器访问高峰运行高负载命令")]),t._v(" "),a("p",[t._v("这一点大家很好理解，在服务器访问高峰，如果使用一些对服务器压力较大的命令，则有可能会造成服务器响应缓慢甚至死机。\n哪些命令是高负载命令呢？其实，如果大家使用过Windows操作系统，则也会留意到一些操作会给计算机带来较大的运算压力，道理都是一样的，如复制大量的数据、压缩或者解压缩大文件、大范围的硬盘搜索等。\n什么时间算作访问高峰期呢？我们一般认为17:00—24:00算作访问高峰期。\n当然，每台服务器具体提供的服务不同，访问高峰期有时也会有所出入。比如，服务器主要是供美国人民访问的，那就要考虑时差的问题；或者服务器提供的服务很特殊，访问高峰期可能也不同。\n一般我们建议在凌晨4:00—5:00执行这些命令。那是不是说我们需要在凌晨上班？当然不是，这谁受得了啊？我们可以使用系统的计划任务，让操作自动在指定的时间段执行。")]),t._v(" "),a("h4",{attrs:{id:"远程配置防火墙时不要把自己踢出服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#远程配置防火墙时不要把自己踢出服务器"}},[t._v("#")]),t._v(" 远程配置防火墙时不要把自己踢出服务器")]),t._v(" "),a("p",[t._v("简单来讲，防火墙就是"),a("code",[t._v("根据数据包自身的参数来判断是否允许数据包通过的网络设备")]),t._v("。\n我们的服务器要想在公网中安全地使用，就需要使用防火墙过滤有害的数据包。")]),t._v(" "),a("ol",[a("li",[t._v("最好的方法当然是在服务器本地配置防火墙，这样就算不小心把自己的远程登录给过滤了，还可以通过本机登录来进行恢复。")]),t._v(" "),a("li",[t._v("服务器已经在远程登录了，要配置防火墙，那么最好在本地测试完善后再进行上传，这样会把发生故障的概率降到最低。")]),t._v(" "),a("li",[t._v("如果需要远程配置防火墙，那么先写一个系统定时任务，让它每5分钟清空一下防火墙规则，就算写错了也还有反悔的机会，等测试没有问题了再删除这个系统定时任务")])]),t._v(" "),a("h4",{attrs:{id:"指定合理的密码规范并定期更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#指定合理的密码规范并定期更新"}},[t._v("#")]),t._v(" 指定合理的密码规范并定期更新")]),t._v(" "),a("p",[t._v("设置密码需要遵守复杂性、易记忆性和时效性的三原则")]),t._v(" "),a("h4",{attrs:{id:"合理分配权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合理分配权限"}},[t._v("#")]),t._v(" 合理分配权限")]),t._v(" "),a("p",[t._v("服务器管理有一个最简单的原则：给予用户最小的权限。")]),t._v(" "),a("h4",{attrs:{id:"定期备份重要数据和日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定期备份重要数据和日志"}},[t._v("#")]),t._v(" 定期备份重要数据和日志")]),t._v(" "),a("p",[t._v("备份的基本原则：不要把鸡蛋放在同一个篮子里")]),t._v(" "),a("h2",{attrs:{id:"资料来源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资料来源"}},[t._v("#")]),t._v(" 资料来源")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.atguigu.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("尚硅谷官网"),a("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=v.exports}}]);